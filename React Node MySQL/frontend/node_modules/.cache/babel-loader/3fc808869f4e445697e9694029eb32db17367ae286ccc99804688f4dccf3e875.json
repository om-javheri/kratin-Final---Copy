{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\om javheri\\\\Desktop\\\\Sciqus Pvt Ltd\\\\frontend\\\\src\\\\components\\\\PrivateRoute.js\",\n  _s = $RefreshSig$();\n// Filename - client/src/PrivateRoute.js\n\n// Importing the required libraries\nimport { Navigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst axios = require(\"axios\");\n\n// Private Route Component\n// Params: login -> indicates the login state\n//\t\t children -> the child components of private route\nconst PrivateRoute = ({\n  login,\n  children\n}) => {\n  _s();\n  // Authentication Handler\n  const authenticate = login => {\n    setLoading(true);\n\n    // HTTP Post Request\n    axios({\n      method: \"post\",\n      url: \"http://localhost:8000/admin\",\n      data: {\n        logged: login\n      }\n    }).then(({\n      data\n    }) => {\n      if (data.success) {\n        setAuth(true);\n      } else {\n        setAuth(false);\n      }\n      console.log(data.message);\n      setLoading(false);\n    }).catch(error => {\n      console.log(error);\n      setLoading(false);\n    });\n  };\n\n  // useState hook to inform the user about the loading state\n  const [loading, setLoading] = useState(true);\n\n  // useState hook to authorize the user\n  const [auth, setAuth] = useState(false);\n\n  // Authenticates the user whenever the\n  // login state changes\n  useEffect(() => {\n    authenticate(login);\n    console.log(login);\n    return () => {\n      setLoading(true);\n    };\n  }, [login]);\n\n  // If authenticated loads the required component\n  // else redirects to the home page\n  return loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 3\n  }, this) : auth ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 3\n  }, this);\n};\n_s(PrivateRoute, \"psumaMl5WB02LTjxIJ4XBjZIJlM=\");\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["Navigate","useEffect","useState","jsxDEV","_jsxDEV","axios","require","PrivateRoute","login","children","_s","authenticate","setLoading","method","url","data","logged","then","success","setAuth","console","log","message","catch","error","loading","auth","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","$RefreshReg$"],"sources":["C:/Users/om javheri/Desktop/Sciqus Pvt Ltd/frontend/src/components/PrivateRoute.js"],"sourcesContent":["// Filename - client/src/PrivateRoute.js\r\n\r\n// Importing the required libraries\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nconst axios = require(\"axios\");\r\n\r\n// Private Route Component\r\n// Params: login -> indicates the login state\r\n//\t\t children -> the child components of private route\r\nconst PrivateRoute = ({ login, children }) => {\r\n\t// Authentication Handler\r\n\tconst authenticate = (login) => {\r\n\t\tsetLoading(true);\r\n\r\n\t\t// HTTP Post Request\r\n\t\taxios({\r\n\t\t\tmethod: \"post\",\r\n\t\t\turl: \"http://localhost:8000/admin\",\r\n\t\t\tdata: {\r\n\t\t\t\tlogged: login,\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tsetAuth(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetAuth(false);\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(data.message);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t};\r\n\r\n\t// useState hook to inform the user about the loading state\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\t// useState hook to authorize the user\r\n\tconst [auth, setAuth] = useState(false);\r\n\r\n\t// Authenticates the user whenever the\r\n\t// login state changes\r\n\tuseEffect(() => {\r\n\t\tauthenticate(login);\r\n        console.log(login)\r\n\t\treturn () => {\r\n\t\t\tsetLoading(true);\r\n\t\t};\r\n\t}, [login]);\r\n\r\n\t// If authenticated loads the required component\r\n\t// else redirects to the home page\r\n\treturn loading ? (\r\n\t\t<h1>Loading...</h1>\r\n\t) : auth ? (\r\n\t\tchildren\r\n\t) : (\r\n\t\t<Navigate to=\"/\" />\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n"],"mappings":";;AAAA;;AAEA;AACA,SAASA,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC5C,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;;AAE9B;AACA;AACA;AACA,MAAMC,YAAY,GAAGA,CAAC;EAAEC,KAAK;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7C;EACA,MAAMC,YAAY,GAAIH,KAAK,IAAK;IAC/BI,UAAU,CAAC,IAAI,CAAC;;IAEhB;IACAP,KAAK,CAAC;MACLQ,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,6BAA6B;MAClCC,IAAI,EAAE;QACLC,MAAM,EAAER;MACT;IACD,CAAC,CAAC,CACAS,IAAI,CAAC,CAAC;MAAEF;IAAK,CAAC,KAAK;MACnB,IAAIA,IAAI,CAACG,OAAO,EAAE;QACjBC,OAAO,CAAC,IAAI,CAAC;MACd,CAAC,MAAM;QACNA,OAAO,CAAC,KAAK,CAAC;MACf;MACAC,OAAO,CAACC,GAAG,CAACN,IAAI,CAACO,OAAO,CAAC;MACzBV,UAAU,CAAC,KAAK,CAAC;IAClB,CAAC,CAAC,CACDW,KAAK,CAAEC,KAAK,IAAK;MACjBJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;MAClBZ,UAAU,CAAC,KAAK,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAM,CAACa,OAAO,EAAEb,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;;EAE5C;EACA,MAAM,CAACwB,IAAI,EAAEP,OAAO,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;;EAEvC;EACA;EACAD,SAAS,CAAC,MAAM;IACfU,YAAY,CAACH,KAAK,CAAC;IACbY,OAAO,CAACC,GAAG,CAACb,KAAK,CAAC;IACxB,OAAO,MAAM;MACZI,UAAU,CAAC,IAAI,CAAC;IACjB,CAAC;EACF,CAAC,EAAE,CAACJ,KAAK,CAAC,CAAC;;EAEX;EACA;EACA,OAAOiB,OAAO,gBACbrB,OAAA;IAAAK,QAAA,EAAI;EAAU;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC,GAChBJ,IAAI,GACPjB,QAAQ,gBAERL,OAAA,CAACJ,QAAQ;IAAC+B,EAAE,EAAC;EAAG;IAAAJ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAClB;AACF,CAAC;AAACpB,EAAA,CArDIH,YAAY;AAAAyB,EAAA,GAAZzB,YAAY;AAuDlB,eAAeA,YAAY;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}